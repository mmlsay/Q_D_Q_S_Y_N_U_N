<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hi</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: rgb(175, 17, 104);
      color: rgb(243, 239, 239);
      text-align: center;
      overflow: hidden;
    }
    #app { 
      max-width: 700px; 
      padding: 20px; 
      transition: opacity 0.5s; 
      position: relative;
      z-index: 2;
    }
    #app h1 { font-size: 3rem; }
    #text { font-size: 1.8rem; line-height: 1.8; }
    #buttons button {
      margin: 10px;
      padding: 12px 24px;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: #e40909;
      color: rgb(240, 234, 234);
      transition: background 0.3s;
    }
    #buttons button:hover { background: #666; }
    .hidden { opacity: 0; }

    /* Estilo para corazones */
    .heart {
      position: fixed;
      top: -20px;
      font-size: 24px;
      color: #ffdde1;
      pointer-events: none;
      animation: fall linear forwards;
      z-index: 1;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    @media (max-width: 600px) {
      #app h1 { font-size: 2.2rem; }
      #text { font-size: 1.2rem; line-height: 1.5; }
      #buttons button { padding: 10px 18px; font-size: 16px; }
      #app { padding: 15px; }
    }
  </style>
</head>
<body>
  <div id="app">
    <h1></h1>
    <div id="text">
    Bueno, si est√°s viendo esto, es porque reun√≠ todo mi valor para decirte algo muy especial.
Antes de que todo comience, solo puedes elegir una vez, y si quieres pensarlo, no elijas ninguna opci√≥n 
hasta que sepa qu√© decisi√≥n vas a elegir; vuelve a abrir el enlace. Recuerda que, mientras no elijas una 
respuesta, podr√°s recargar la p√°gina todas las veces que t√∫ quieras hasta que elijas una respuesta. 
Y tambi√©n me gustar√≠a que hagas una captura de pantalla y me la env√≠es para poder saber tu respuesta. 
Y disc√∫lpame si te lo estoy diciendo de esta manera; lo ten√≠a planeado para dec√≠rtelo presencialmente, 
pero me siento inseguro con tu respuesta y no voy a tener el valor de aguantar mis emociones.
¬øEst√°s lista para esto? üíñ
    </div>
    <div id="buttons">
      <button onclick="startHearts(); showNext()">Comenzar</button>
    </div>
  </div>

  <script>
    const app = document.getElementById("app");
    const textEl = document.getElementById("text");
    const buttonsEl = document.getElementById("buttons");

    // M√°quina de escribir
    function typeWriter(element, text, speed = 30, callback) {
      element.innerHTML = "";
      let i = 0;
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else if (callback) {
          callback();
        }
      }
      type();
    }

    function fadeOut(callback) {
      app.classList.add('hidden');
      app.addEventListener('transitionend', function handler() {
        callback();
        app.classList.remove('hidden');
        app.removeEventListener('transitionend', handler);
      });
    }

    function fadeOutAndType(text, buttonsHtml = "", speed = 30) {
      fadeOut(() => {
        textEl.innerHTML = "";
        buttonsEl.innerHTML = "";
        typeWriter(textEl, text, speed, () => {
          buttonsEl.innerHTML = buttonsHtml;
        });
      });
    }

    // Mostrar la carta inicial
    function showNext() {
      fadeOutAndType(
`A ver‚Ä¶ por d√≥nde empiezo.

Desde que te conoc√≠, no eras nada ni nadie importante para m√≠.
Pero, poco a poco‚Ä¶ ¬°pum!
Te adentraste en mi mente, en mi coraz√≥n, y te convertiste en alguien constante en mis pensamientos y sue√±os.

Pens√© y pens√©‚Ä¶ hasta darme cuenta de lo que mi coraz√≥n ya sab√≠a: estaba enamorado de ti.
De repente, apareciste en mi mundo, y todo cambi√≥.

Fuiste tan importante para m√≠, aunque no lo dijera.

Te conoc√≠ como amiga, y con cada d√≠a, cada semana, cada mes, mi amor por ti creci√≥ m√°s y m√°s.
El amor que siento por ti es √∫nico.
Todos esos meses compartiendo risas y palabras en nuestros chats fueron algunos de los momentos m√°s felices de mi vida.`,
        `<button onclick="start()">Abrir</button>`
      );
    }

    function start() { showQuestion(); }

    // Mostrar la pregunta
    function showQuestion() {
      fadeOut(() => {
        textEl.innerHTML = "¬øQuieres ser mi pareja?";
        buttonsEl.innerHTML = `
          <button onclick="answer(true)">S√≠</button>
          <button onclick="answer(false)">No</button>
        `;
        app.classList.remove('hidden');
      });
    }

    // Guardar y mostrar respuesta
    function answer(isYes) {
      localStorage.setItem('respuesta', isYes ? 'si' : 'no');
      mostrarResultado(isYes ? 'si' : 'no');
    }

    function mostrarResultado(respuesta) {
      const texto = respuesta === 'si'
        ? `üíï No sabes lo feliz que me haces con un simple s√≠ üòç. Estoy deseando compartir muchos momentos juntos como novios üíï ‚ú®`
        : `Entiendo tu respuesta... üòî Aun as√≠, gracias por tu sinceridad.`;
      fadeOutAndType(texto);
    }



    
    // Al cargar, si ya respondi√≥, mostrar resultado autom√°ticamente
    window.onload = () => {
      const respuesta = localStorage.getItem('respuesta');
      if (respuesta) {
        mostrarResultado(respuesta);
      }
    };

    
    

    // üéâ Lluvia de corazones
    function startHearts() {
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          createHeart();
        }, i * 200);
      }
    }

    function createHeart() {
      const heart = document.createElement("span");
      heart.classList.add("heart");
      heart.innerHTML = "üíñ";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = Math.random() * 20 + 15 + "px";
      heart.style.animationDuration = (Math.random() * 3 + 2) + "s";
      document.body.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 5000);
    }
  </script>
</body>
</html>
